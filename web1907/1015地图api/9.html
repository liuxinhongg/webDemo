<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<div id="allmap">

		</div>
	</body>

</html>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=11KwM4SL3gsDG3y1NFOc7QjEncqwmTlK"></script>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap"); // 创建Map实例
	var mPoint = new BMap.Point(116.404, 39.915);
	map.enableScrollWheelZoom();
	map.centerAndZoom(mPoint, 15);
	var circle = new BMap.Circle(mPoint, 1000, {
		fillColor: "blue",
		strokeWeight: 1,
		fillOpacity: 0.3,
		strokeOpacity: 0.3,
		enableEditing: true
	});
	map.addOverlay(circle);
	
	if (mPoint != null) {
		circle.addEventListener("lineupdate", function(e) {
			console.log(circle.getRadius()); //返回圆形覆盖物的半径 
		});
	}
	var local = new BMap.LocalSearch(map, {
		renderOptions: {
			map: map,
			autoViewport: false
		}
	});
	local.searchNearby('餐馆', mPoint, 1000);
</script>